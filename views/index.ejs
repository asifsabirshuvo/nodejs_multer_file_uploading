<!DOCTYPE html>
<html lang="en">
<head>
<title>File upload nodejs</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
</head>
<body>

<% if(typeof info != "undefined"){%> 
<% if(info == "success single"){%> 
   <div class="alert alert-success alert-dismissible fade in">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <strong>Success!</strong> Single file uploaded!
  </div>  

<%} else if(info == "success multi"){%> 
   <div class="alert alert-info alert-dismissible fade in">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <strong>Success!</strong> Multiple file uploaded!
  </div>  

<%} else if(info == "error"){%> 
   <div class="alert alert-danger alert-dismissible fade in">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <strong>Sad!</strong> an error occured!
  </div>  

<%} else{%>
  <%= info %>
<%}%>

<%}%>



<!-- single - multi div parent -->
<div style="width: 100%;text-align: center;">


<div style="margin: 20px;display: inline-block;background-color: #f7f7f7; padding:20px;text-align: center;">
<h1>Multer single file upload</h1>
    <form action="/upload/single" enctype="multipart/form-data" method="POST">
    	<label for="title">Entry name</label><br>
        <input type="text" placeholder="enter image title" name="title" id="title" required /><br><br>
        <input type="file" name="singleFile" id="singleFile" required /><br>
        <input type="submit" value="Upload" />
    </form>
</div>

<div style="margin: 20px;display: inline-block;background-color: #f1f1f1;padding:20px;text-align: center;">
<h1>Multer multiple file upload (max 4)</h1>
    <form action="/upload/multi" enctype="multipart/form-data" method="POST">
      <label for="title">Entry name</label><br>
        <input type="text" placeholder="enter image title" name="title" id="title" required /><br><br>
        <input type="file" name="multiFile" id="multiFile" required multiple/><br>
        <input type="submit" value="Upload" />
    </form>
</div>


<!-- parent closes -->
</div>

<table class="table">
    <thead>
      <tr>
        <th>Title</th>
        <th>Date</th>
        <th>Image</th>
      </tr>
    </thead>
    <tbody>
    <% data.forEach(function(item){  %>
      <tr>      
        <td>
          <b>Title: </b>
          <%=item.title%> 
        </td>

        <td>
          <b>Date: </b>
          <%= item.date%></td>
        </td>

        <td>
  		    <img  src="<%=item.filename%>" style="width: 200px;height: 100px;"">
        </td>
      </tr>
		 
     <% }) %>

   	</tbody>
 </table>
</body>
</html> 
